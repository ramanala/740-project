\begin{figure}[!t]
\begin{Verbatim}[fontsize=\relsize{-1}]
1  append(".hg/store/journal", data);
2  append(".hg/store/data/file3.i", data);
...
33 creat(".hg/.dirstate-MNkZZW", O_CREAT|O_TRUNC)  
34 append(".hg/.dirstate-MNkZZW", data) 
35 rename(".hg/.dirstate-MNkZZW", ".hg/dirstate")
\end{Verbatim}
\vspace{-0.2in}
\mycaption{fig-example}{System call sequence in Mercurial}{\footnotesize The
figure shows a sequence of system calls observed in Mercurial when adding a
file to the repository and committing it. Some details are omitted for
illustration, and the write to an empty, new file is indicated as append.}
\vspace{-0.1in}
\end{figure}


